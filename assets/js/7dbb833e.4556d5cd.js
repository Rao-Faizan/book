"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[4889],{7133:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module3/chapter14","title":"Chapter 14: Nav2 for Bipedal Navigation","description":"Configure ROS 2 Navigation Stack (Nav2) for humanoid robots, including footstep planning, behavior trees, and SLAM integration","source":"@site/docs/module3/chapter14.mdx","sourceDirName":"module3","slug":"/module3/chapter14","permalink":"/book/docs/module3/chapter14","draft":false,"unlisted":false,"editUrl":"https://github.com/Rao-Faizan/book/tree/master/docs/module3/chapter14.mdx","tags":[],"version":"current","sidebarPosition":14,"frontMatter":{"title":"Chapter 14: Nav2 for Bipedal Navigation","description":"Configure ROS 2 Navigation Stack (Nav2) for humanoid robots, including footstep planning, behavior trees, and SLAM integration","sidebar_position":14},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 13: Isaac ROS and Hardware-Accelerated SLAM","permalink":"/book/docs/module3/chapter13"},"next":{"title":"Chapter 15: Synthetic Data Generation","permalink":"/book/docs/module3/chapter15"}}');var a=r(4848),o=r(8453);const t={title:"Chapter 14: Nav2 for Bipedal Navigation",description:"Configure ROS 2 Navigation Stack (Nav2) for humanoid robots, including footstep planning, behavior trees, and SLAM integration",sidebar_position:14},s="Chapter 14: Nav2 for Bipedal Navigation",l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Nav2 Architecture Overview",id:"nav2-architecture-overview",level:2},{value:"Core Components",id:"core-components",level:3},{value:"Humanoid-Specific Challenges",id:"humanoid-specific-challenges",level:3},{value:"configuring Nav2 for Humanoids",id:"configuring-nav2-for-humanoids",level:2},{value:"1. Installation",id:"1-installation",level:3},{value:"2. Robot Footprint Configuration",id:"2-robot-footprint-configuration",level:3},{value:"Global Planner: Smac Planner",id:"global-planner-smac-planner",level:2},{value:"Local Planner (Controller): MPPI",id:"local-planner-controller-mppi",level:2},{value:"Behavior Trees for Walking",id:"behavior-trees-for-walking",level:2},{value:"Default vs. Humanoid BT",id:"default-vs-humanoid-bt",level:3},{value:"Integrating with Visual SLAM",id:"integrating-with-visual-slam",level:2},{value:"Launch File Integration",id:"launch-file-integration",level:3},{value:"Velocity Smoother",id:"velocity-smoother",level:2},{value:"Footstep Planning (Conceptual)",id:"footstep-planning-conceptual",level:2},{value:"Hands-On Exercise",id:"hands-on-exercise",level:2},{value:"Task: Humanoid Point-to-Point Navigation",id:"task-humanoid-point-to-point-navigation",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Issue 1: Robot Oscillates/Shakes",id:"issue-1-robot-oscillatesshakes",level:3},{value:"Issue 2: Rotates in Place Forever",id:"issue-2-rotates-in-place-forever",level:3},{value:"Issue 3: Plans Through Obstacles",id:"issue-3-plans-through-obstacles",level:3},{value:"Summary",id:"summary",level:2},{value:"\ud83c\udfaf Key Takeaways",id:"-key-takeaways",level:3}];function d(n){const e={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"chapter-14-nav2-for-bipedal-navigation",children:"Chapter 14: Nav2 for Bipedal Navigation"})}),"\n",(0,a.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,a.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Understand"})," the Nav2 architecture and its suitability for legged robots"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Configure"})," Costmaps for non-circular, humanoid footprints"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Select"})," appropriate global and local planners for bipedal locomotion"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Design"})," Behavior Trees for complex navigation logic"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Implement"})," recovery behaviors specific to legged robots"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Integrate"})," Nav2 with Isaac ROS Visual SLAM"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Tune"})," navigation parameters for safe human-robot interaction"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Prerequisites"}),": Chapter 13 (Isaac ROS SLAM), Module 1 (ROS 2)",(0,a.jsx)(e.br,{}),"\n",(0,a.jsx)(e.strong,{children:"Estimated Time"}),": 75 minutes"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"nav2-architecture-overview",children:"Nav2 Architecture Overview"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Nav2"})," is the industry-standard navigation framework for ROS 2. While traditionally used for wheeled robots, it is highly adaptable for humanoids."]}),"\n",(0,a.jsx)(e.h3,{id:"core-components",children:"Core Components"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-mermaid",children:"graph TD\r\n    A[Goal Pose] --\x3e B[Behavior Tree Navigator]\r\n    B --\x3e C[Global Planner]\r\n    B --\x3e D[Controller (Local Planner)]\r\n    B --\x3e E[Recovery Behaviors]\r\n    \r\n    C --\x3e F[Global Costmap]\r\n    D --\x3e G[Local Costmap]\r\n    \r\n    F --\x3e H[Sensor Data<br/>LiDAR/Depth]\r\n    G --\x3e H\r\n    \r\n    D --\x3e I[Cmd Vel / Footsteps]\r\n    I --\x3e J[Robot HW / Sim]\r\n    \r\n    style B fill:#76B900\n"})}),"\n",(0,a.jsx)(e.h3,{id:"humanoid-specific-challenges",children:"Humanoid-Specific Challenges"}),"\n",(0,a.jsxs)(e.table,{children:[(0,a.jsx)(e.thead,{children:(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.th,{children:"Feature"}),(0,a.jsx)(e.th,{children:"Wheeled Robot"}),(0,a.jsx)(e.th,{children:"Humanoid Robot"})]})}),(0,a.jsxs)(e.tbody,{children:[(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"Motion"})}),(0,a.jsx)(e.td,{children:"Continuous rolling"}),(0,a.jsx)(e.td,{children:"Discrete footsteps"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"Stability"})}),(0,a.jsx)(e.td,{children:"Static stability"}),(0,a.jsx)(e.td,{children:"Dynamic balance required"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"Footprint"})}),(0,a.jsx)(e.td,{children:"Static rectangle/circle"}),(0,a.jsx)(e.td,{children:"Changing support polygon"})]}),(0,a.jsxs)(e.tr,{children:[(0,a.jsx)(e.td,{children:(0,a.jsx)(e.strong,{children:"Recovery"})}),(0,a.jsx)(e.td,{children:"Backup/Spin"}),(0,a.jsx)(e.td,{children:"Step in place/Crouch"})]})]})]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"configuring-nav2-for-humanoids",children:"configuring Nav2 for Humanoids"}),"\n",(0,a.jsx)(e.h3,{id:"1-installation",children:"1. Installation"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"# Install Nav2 packages\r\nsudo apt install ros-humble-navigation2 \\\r\n  ros-humble-nav2-bringup \\\r\n  ros-humble-nav2-smac-planner\n"})}),"\n",(0,a.jsx)(e.h3,{id:"2-robot-footprint-configuration",children:"2. Robot Footprint Configuration"}),"\n",(0,a.jsx)(e.p,{children:"Humanoids have a rectangular footprint that shouldn't be approximated as a circle."}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsxs)(e.strong,{children:["In ",(0,a.jsx)(e.code,{children:"nav2_params.yaml"})]}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:'local_costmap:\r\n  local_costmap:\r\n    ros__parameters:\r\n      # Humanoid dimensions (e.g., Unitree G1)\r\n      footprint: "[ [0.15, 0.25], [0.15, -0.25], [-0.15, -0.25], [-0.15, 0.25] ]"\r\n      robot_radius: 0.0  # Must be 0.0 if footprint is defined\r\n      inflation_layer:\r\n        cost_scaling_factor: 3.0  # Sharp cost decay\r\n        inflation_radius: 0.45    # Keep distance from walls\n'})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"global-planner-smac-planner",children:"Global Planner: Smac Planner"}),"\n",(0,a.jsxs)(e.p,{children:["For non-circular robots, the ",(0,a.jsx)(e.strong,{children:"Smac Planner Hybrid A"}),"* is ideal as it considers orientation and non-holonomic constraints."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Configuration"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:'planner_server:\r\n  ros__parameters:\r\n    planner_plugins: ["GridBased"]\r\n    GridBased:\r\n      plugin: "nav2_smac_planner/SmacPlannerHybrid"\r\n      downsampling_factor: 1\r\n      tolerance: 0.5\r\n      allow_unknown: true\r\n      max_iterations: 1000000\r\n      max_on_approach_iterations: 1000\r\n      max_planning_time: 2.0\r\n      motion_model_for_search: "DUBIN"  # Or "REEDS_SHEPP" which allows reversing\r\n      angle_quantization_bins: 72       # 5 degree increments\r\n      analytic_expansion_ratio: 3.5\r\n      minimum_turning_radius: 0.0       # humanoids can turn in place!\r\n      reverse_penalty: 2.0\r\n      change_penalty: 0.1\r\n      non_straight_penalty: 1.2\n'})}),"\n",(0,a.jsx)(e.admonition,{title:"Humanoid Turning",type:"tip",children:(0,a.jsxs)(e.p,{children:["Since humanoids can turn in place (",(0,a.jsx)(e.code,{children:"minimum_turning_radius: 0.0"}),"), Smac Planner creates efficient paths that rotate first, then walk straight."]})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"local-planner-controller-mppi",children:"Local Planner (Controller): MPPI"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"MPPI (Model Predictive Path Integral)"})," is a powerful controller that handles complex dynamics better than DWB."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Configuration"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:'controller_server:\r\n  ros__parameters:\r\n    controller_plugins: ["FollowPath"]\r\n    FollowPath:\r\n      plugin: "nav2_mppi_controller::MPPIController"\r\n      time_steps: 56\r\n      model_dt: 0.05\r\n      batch_size: 2000\r\n      vx_std: 0.2\r\n      vy_std: 0.2\r\n      wz_std: 0.4\r\n      vx_max: 0.8\r\n      vx_min: -0.3\r\n      wz_max: 1.0\r\n      # Critical constraints for humanoids\r\n      Constraint1:\r\n        type: "cvar"\r\n        weight: 100.0\r\n        # Prevent sudden acceleration (causes falls)\n'})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"behavior-trees-for-walking",children:"Behavior Trees for Walking"}),"\n",(0,a.jsx)(e.p,{children:"Behavior Trees (BTs) define the logic of navigation."}),"\n",(0,a.jsx)(e.h3,{id:"default-vs-humanoid-bt",children:"Default vs. Humanoid BT"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Default BT"}),":\r\n",(0,a.jsx)(e.code,{children:"ComputePathToPose"})," \u2192 ",(0,a.jsx)(e.code,{children:"FollowPath"})," \u2192 ",(0,a.jsx)(e.code,{children:"Recovery"})," if stuck."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Humanoid BT Modification"}),':\r\nWe need to handle "Standing Up" or "Balancing" before moving.']}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",children:'\x3c!-- humanoid_navigate.xml --\x3e\r\n<root main_tree_to_execute="MainTree">\r\n  <BehaviorTree ID="MainTree">\r\n    <RecoveryNode number_of_retries="6" name="NavigateRecovery">\r\n      <PipelineSequence name="NavigateWithReplanning">\r\n        \r\n        \x3c!-- Check if robot is standing --\x3e\r\n        <Condition ID="IsStanding" />\r\n        \r\n        <RateController hz="1.0">\r\n          <RecoveryNode number_of_retries="1" name="ComputePathToPose">\r\n            <ComputePathToPose goal="{goal}" path="{path}" planner_id="GridBased"/>\r\n            <ClearEntireCostmap name="ClearGlobalCostmap-Context" service_name="global_costmap/clear_entirely_costmap"/>\r\n          </RecoveryNode>\r\n        </RateController>\r\n        \r\n        <RecoveryNode number_of_retries="1" name="FollowPath">\r\n          <FollowPath path="{path}" controller_id="FollowPath"/>\r\n          <ClearEntireCostmap name="ClearLocalCostmap-Context" service_name="local_costmap/clear_entirely_costmap"/>\r\n        </RecoveryNode>\r\n      </PipelineSequence>\r\n      \r\n      \x3c!-- Recovery Behaviors --\x3e\r\n      <ReactiveFallback name="RecoveryFallback">\r\n        <GoalUpdated/>\r\n        <RoundRobin name="RecoveryActions">\r\n          <Spin spin_dist="1.57"/>\r\n          <Wait wait_duration="5"/>\r\n          <BackUp backup_dist="0.15" backup_speed="0.05"/>\r\n        </RoundRobin>\r\n      </ReactiveFallback>\r\n    </RecoveryNode>\r\n  </BehaviorTree>\r\n</root>\n'})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"integrating-with-visual-slam",children:"Integrating with Visual SLAM"}),"\n",(0,a.jsxs)(e.p,{children:["Module 13 showed how to set up ",(0,a.jsx)(e.code,{children:"odom"})," and ",(0,a.jsx)(e.code,{children:"map"})," frames. Now we connect Nav2."]}),"\n",(0,a.jsx)(e.h3,{id:"launch-file-integration",children:"Launch File Integration"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",children:"# humanoid_nav.launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import IncludeLaunchDescription, DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    pkg_nav2 = FindPackageShare('nav2_bringup')\r\n    \r\n    # Nav2 Launch\r\n    nav2_launch = IncludeLaunchDescription(\r\n        PathJoinSubstitution([pkg_nav2, 'launch', 'navigation_launch.py']),\r\n        launch_arguments={\r\n            'use_sim_time': 'true',\r\n            'params_file': 'path/to/humanoid_nav2_params.yaml'\r\n        }.items()\r\n    )\r\n    \r\n    return LaunchDescription([\r\n        nav2_launch\r\n    ])\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Workflow"}),":"]}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Start Isaac Sim"})," (Chapter 12)"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Start Isaac ROS Visual SLAM"})," (Chapter 13)"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Start Nav2"})," (This Chapter)"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"ros2 launch nav2_bringup navigation_launch.py params_file:=humanoid_params.yaml\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"velocity-smoother",children:"Velocity Smoother"}),"\n",(0,a.jsxs)(e.p,{children:["Humanoids are unstable. Sudden velocity changes cause falls. We use ",(0,a.jsx)(e.code,{children:"nav2_velocity_smoother"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Configuration"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:'velocity_smoother:\r\n  ros__parameters:\r\n    smoothing_frequency: 20.0\r\n    scale_velocities: false\r\n    feedback: "OPEN_LOOP"\r\n    max_velocity: [0.8, 0.0, 1.0]  # [x, y, theta]\r\n    min_velocity: [-0.3, 0.0, -1.0]\r\n    max_accel: [0.2, 0.0, 0.5]     # Low accel for stability!\r\n    max_decel: [-0.2, 0.0, -0.5]\r\n    deadband_velocity: [0.0, 0.0, 0.0]\r\n    velocity_timeout: 1.0\n'})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Architecture"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-mermaid",children:"graph LR\r\n    A[Nav2 Controller] --\x3e|/cmd_vel_nav| B[Velocity Smoother]\r\n    B --\x3e|/cmd_vel| C[Robot Base Controller]\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"footstep-planning-conceptual",children:"Footstep Planning (Conceptual)"}),"\n",(0,a.jsxs)(e.p,{children:["Standard Nav2 outputs continuous velocity (",(0,a.jsx)(e.code,{children:"geometry_msgs/Twist"}),"). Humanoids need footsteps."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Twist-to-Footstep Converter Node"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom geometry_msgs.msg import Twist\r\nfrom humanoid_msgs.msg import Footsteps\r\n\r\nclass TwistToFootstep(Node):\r\n    def __init__(self):\r\n        super().__init__('twist_to_footstep')\r\n        self.sub = self.create_subscription(Twist, '/cmd_vel', self.cmd_cb, 10)\r\n        self.pub = self.create_publisher(Footsteps, '/walking/footsteps', 10)\r\n        \r\n    def cmd_cb(self, msg):\r\n        # Convert vx, wz to stride length and turn angle\r\n        stride_len = msg.linear.x * 0.5  # Simple scaling\r\n        turn_angle = msg.angular.z * 0.2\r\n        \r\n        # In a real system, use an inverse kinematics solver here\r\n        self.publish_footsteps(stride_len, turn_angle)\n"})}),"\n",(0,a.jsx)(e.admonition,{title:"Advanced",type:"note",children:(0,a.jsxs)(e.p,{children:["For full footstep planning, advanced users replace the Nav2 Controller with a custom ",(0,a.jsx)(e.strong,{children:"ALIP (Angular Linear Inverted Pendulum)"})," planner plugin."]})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"hands-on-exercise",children:"Hands-On Exercise"}),"\n",(0,a.jsx)(e.h3,{id:"task-humanoid-point-to-point-navigation",children:"Task: Humanoid Point-to-Point Navigation"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Scenario"}),": Robot starts at (0,0) and acts autonomously to reach (5,5) avoiding obstacles."]}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Setup"}),":"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Isaac Sim Warehouse Scene"}),"\n",(0,a.jsx)(e.li,{children:"Isaac ROS Visual SLAM running"}),"\n",(0,a.jsx)(e.li,{children:"Nav2 stack configured with Smac Planner"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Execution"}),":"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:'Use RViz2 "2D Goal Pose" tool to set target'}),"\n",(0,a.jsx)(e.li,{children:"Watch global path generation (green line)"}),"\n",(0,a.jsx)(e.li,{children:"Watch local costmap updates (inflated obstacles)"}),"\n",(0,a.jsx)(e.li,{children:"Robot should walk smoothly without falling"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Success Criteria"}),":"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Path avoids obstacles by 0.45m margin"}),"\n",(0,a.jsx)(e.li,{children:"Max acceleration < 0.2 m/s\xb2"}),"\n",(0,a.jsx)(e.li,{children:"Reaches goal within 0.5m tolerance"}),"\n",(0,a.jsx)(e.li,{children:"No falls (simulated)"}),"\n"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsx)(e.h3,{id:"issue-1-robot-oscillatesshakes",children:"Issue 1: Robot Oscillates/Shakes"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Cause"}),": Controller frequency too high or acceleration limits too high.",(0,a.jsx)(e.br,{}),"\n",(0,a.jsx)(e.strong,{children:"Fix"}),": Increase ",(0,a.jsx)(e.code,{children:"max_accel"})," constraints in velocity smoother. Lower controller frequency to 10-20Hz."]}),"\n",(0,a.jsx)(e.h3,{id:"issue-2-rotates-in-place-forever",children:"Issue 2: Rotates in Place Forever"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Cause"}),": Goal tolerance too tight.",(0,a.jsx)(e.br,{}),"\n",(0,a.jsx)(e.strong,{children:"Fix"}),": Increase ",(0,a.jsx)(e.code,{children:"yaw_goal_tolerance"})," in controller server (e.g., to 0.1 rad)."]}),"\n",(0,a.jsx)(e.h3,{id:"issue-3-plans-through-obstacles",children:"Issue 3: Plans Through Obstacles"}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Cause"}),": Costmap inflation radius too small.",(0,a.jsx)(e.br,{}),"\n",(0,a.jsx)(e.strong,{children:"Fix"}),": Increase ",(0,a.jsx)(e.code,{children:"inflation_radius"})," to cover the robot's width + safety margin."]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(e.h3,{id:"-key-takeaways",children:"\ud83c\udfaf Key Takeaways"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Nav2"})," adapts to humanoids by defining accurate footprints and stability constraints"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Smac Planner"})," handles non-holonomic constraints better than NavFn"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Velocity Smoothing"})," is critical to prevent humanoid falls"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Behavior Trees"}),' allow custom logic (like "Stand Up") before moving']}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Integration"})," connects perception (Isaac ROS) to action (Nav2)"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Next Chapter"}),": We will generate massive amounts of synthetic data to train even smarter agents!"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.admonition,{title:"Chapter Completion",type:"note",children:(0,a.jsxs)(e.p,{children:["\u2705 You've completed Chapter 14: Nav2 for Bipedal Navigation",(0,a.jsx)(e.br,{}),"\n","\u23f1\ufe0f Estimated time to complete: 75 minutes",(0,a.jsx)(e.br,{}),"\n","\ud83d\udcca Progress: Module 3 - Chapter 4 of 5"]})})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>t,x:()=>s});var i=r(6540);const a={},o=i.createContext(a);function t(n){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:t(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);