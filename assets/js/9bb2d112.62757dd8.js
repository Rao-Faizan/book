"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[3726],{8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>a});var i=r(6540);const s={},o=i.createContext(s);function l(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(o.Provider,{value:n},e.children)}},9104:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"module1/chapter4","title":"Understanding URDF for Humanoid Robot Description","description":"Understanding URDF for Humanoid Robot Description","source":"@site/docs/module1/chapter4.mdx","sourceDirName":"module1","slug":"/module1/chapter4","permalink":"/book/docs/module1/chapter4","draft":false,"unlisted":false,"editUrl":"https://github.com/Rao-Faizan/book/tree/master/docs/module1/chapter4.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"chapter4","title":"Understanding URDF for Humanoid Robot Description","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Bridging Python AI Agents to ROS 2 Controllers","permalink":"/book/docs/module1/chapter3"},"next":{"title":"Launch Files and Package Management","permalink":"/book/docs/module1/chapter5"}}');var s=r(4848),o=r(8453);const l={id:"chapter4",title:"Understanding URDF for Humanoid Robot Description",sidebar_position:4},a=void 0,t={},d=[{value:"Understanding URDF for Humanoid Robot Description",id:"understanding-urdf-for-humanoid-robot-description",level:2},{value:"Learning Objectives",id:"learning-objectives",level:3},{value:"4.1 What is URDF?",id:"41-what-is-urdf",level:2},{value:"Why URDF Matters for Humanoid Robots",id:"why-urdf-matters-for-humanoid-robots",level:3},{value:"URDF File Structure",id:"urdf-file-structure",level:3},{value:"4.2 Link Elements",id:"42-link-elements",level:2},{value:"Visual Properties",id:"visual-properties",level:3},{value:"Collision Properties",id:"collision-properties",level:3},{value:"Inertial Properties",id:"inertial-properties",level:3},{value:"Geometry Primitives",id:"geometry-primitives",level:3},{value:"4.3 Joint Elements",id:"43-joint-elements",level:2},{value:"Joint Types",id:"joint-types",level:3},{value:"Revolute Joint Example",id:"revolute-joint-example",level:3},{value:"Continuous Joint Example",id:"continuous-joint-example",level:3},{value:"Fixed Joint Example",id:"fixed-joint-example",level:3},{value:"4.4 Building a Simple Multi-Link Robot",id:"44-building-a-simple-multi-link-robot",level:2},{value:"Step 1: Define the Base Link",id:"step-1-define-the-base-link",level:3},{value:"Step 2: Add Upper Arm Link and Joint",id:"step-2-add-upper-arm-link-and-joint",level:3},{value:"Step 3: Add Forearm Link and Elbow Joint",id:"step-3-add-forearm-link-and-elbow-joint",level:3},{value:"4.5 Humanoid-Specific URDF Modeling",id:"45-humanoid-specific-urdf-modeling",level:2},{value:"Hierarchical Structure",id:"hierarchical-structure",level:3},{value:"Kinematic Chains and Joint Hierarchies",id:"kinematic-chains-and-joint-hierarchies",level:3},{value:"Example: Humanoid Torso and Head",id:"example-humanoid-torso-and-head",level:3},{value:"Example: Left Arm",id:"example-left-arm",level:3},{value:"4.6 Using Xacro for Modular URDF",id:"46-using-xacro-for-modular-urdf",level:2},{value:"Basic Xacro Features",id:"basic-xacro-features",level:3},{value:"Xacro Macros for Reusable Components",id:"xacro-macros-for-reusable-components",level:3},{value:"File Inclusion",id:"file-inclusion",level:3},{value:"Converting Xacro to URDF",id:"converting-xacro-to-urdf",level:3},{value:"4.7 URDF Validation and Debugging",id:"47-urdf-validation-and-debugging",level:2},{value:"Using check_urdf",id:"using-check_urdf",level:3},{value:"Common URDF Errors",id:"common-urdf-errors",level:3},{value:"Debugging Tips",id:"debugging-tips",level:3},{value:"4.8 Visualization in RViz2",id:"48-visualization-in-rviz2",level:2},{value:"Step 1: Create a Launch File",id:"step-1-create-a-launch-file",level:3},{value:"Step 2: Launch the Visualization",id:"step-2-launch-the-visualization",level:3},{value:"Step 3: Configure RViz2",id:"step-3-configure-rviz2",level:3},{value:"4.9 Reference Frames and Naming Conventions",id:"49-reference-frames-and-naming-conventions",level:2},{value:"REP-103: Standard Units and Coordinate Conventions",id:"rep-103-standard-units-and-coordinate-conventions",level:3},{value:"REP-105: Coordinate Frames for Mobile Platforms",id:"rep-105-coordinate-frames-for-mobile-platforms",level:3},{value:"Naming Conventions for Humanoid Robots",id:"naming-conventions-for-humanoid-robots",level:3},{value:"4.10 Sensor Integration in URDF",id:"410-sensor-integration-in-urdf",level:2},{value:"Camera Sensor Example",id:"camera-sensor-example",level:3},{value:"Lidar Sensor Example",id:"lidar-sensor-example",level:3},{value:"IMU Sensor Example",id:"imu-sensor-example",level:3},{value:"4.11 Gazebo Simulation Preview (Instructor-Led Demo)",id:"411-gazebo-simulation-preview-instructor-led-demo",level:2},{value:"What is Gazebo?",id:"what-is-gazebo",level:3},{value:"Demo Setup (Instructor Only)",id:"demo-setup-instructor-only",level:3},{value:"What Students Should Observe",id:"what-students-should-observe",level:3},{value:"Key Takeaways",id:"key-takeaways",level:3},{value:"Instructor Prep Guide",id:"instructor-prep-guide",level:3},{value:"4.12 Hands-On Exercise: Build Your Humanoid URDF",id:"412-hands-on-exercise-build-your-humanoid-urdf",level:2},{value:"Exercise Overview",id:"exercise-overview",level:3},{value:"Skeleton Code",id:"skeleton-code",level:3},{value:"Step-by-Step Instructions",id:"step-by-step-instructions",level:3},{value:"Success Criteria",id:"success-criteria",level:3},{value:"Bonus Challenges",id:"bonus-challenges",level:3},{value:"Chapter Summary",id:"chapter-summary",level:2},{value:"Key Takeaways",id:"key-takeaways-1",level:3},{value:"Next Steps",id:"next-steps",level:3},{value:"Additional Resources",id:"additional-resources",level:3}];function c(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"understanding-urdf-for-humanoid-robot-description",children:"Understanding URDF for Humanoid Robot Description"}),"\n",(0,s.jsx)(n.p,{children:"This chapter introduces the Unified Robot Description Format (URDF), an XML-based file format used in ROS 2 to describe the physical properties of a robot. You will learn how to define robot kinematics, structure, and appearance for visualization and simulation, with a focus on humanoid robot applications."}),"\n",(0,s.jsx)(n.h3,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Understand the basic structure and syntax of URDF files."}),"\n",(0,s.jsxs)(n.li,{children:["Define ",(0,s.jsx)(n.code,{children:"link"})," and ",(0,s.jsx)(n.code,{children:"joint"})," elements to describe robot segments and their connections."]}),"\n",(0,s.jsx)(n.li,{children:"Incorporate visual, collision, and inertial properties into your robot models."}),"\n",(0,s.jsx)(n.li,{children:"Differentiate between various joint types and their applications in humanoid robots."}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"xacro"})," to create more modular and readable URDF files."]}),"\n",(0,s.jsx)(n.li,{children:"Visualize URDF models in RViz2."}),"\n",(0,s.jsx)(n.li,{children:"Perform basic URDF validation and debugging."}),"\n",(0,s.jsx)(n.li,{children:"Understand the importance of coordinate frames and naming conventions (REP-103, REP-105)."}),"\n",(0,s.jsx)(n.li,{children:"Get a preview of sensor integration and Gazebo simulation."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"41-what-is-urdf",children:"4.1 What is URDF?"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"URDF (Unified Robot Description Format)"})," is an XML-based specification for describing robots in ROS and ROS 2. It provides a standardized way to represent:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Robot structure"}),": The physical links (bodies) and joints (connections) that make up a robot"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kinematic relationships"}),": How different parts of the robot move relative to each other"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visual appearance"}),": How the robot looks in visualization tools like RViz2"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Collision geometry"}),": Simplified shapes used for collision detection in simulation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Physical properties"}),": Mass, inertia, and other properties needed for realistic physics simulation"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"why-urdf-matters-for-humanoid-robots",children:"Why URDF Matters for Humanoid Robots"}),"\n",(0,s.jsx)(n.p,{children:"Humanoid robots are among the most complex robotic systems, featuring:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Multiple degrees of freedom (20-50+ joints)"}),"\n",(0,s.jsx)(n.li,{children:"Hierarchical kinematic chains (torso \u2192 arms/legs \u2192 hands/feet)"}),"\n",(0,s.jsx)(n.li,{children:"Diverse joint types (revolute for elbows/knees, continuous for shoulders)"}),"\n",(0,s.jsx)(n.li,{children:"Sophisticated balancing and weight distribution requirements"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"URDF enables you to model these complexities in a format that works seamlessly with ROS 2 tools, simulation environments like Gazebo, and visualization tools like RViz2."}),"\n",(0,s.jsx)(n.h3,{id:"urdf-file-structure",children:"URDF File Structure"}),"\n",(0,s.jsxs)(n.p,{children:["A URDF file is an XML document with a root ",(0,s.jsx)(n.code,{children:"<robot>"})," element containing:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="my_humanoid">\r\n  \x3c!-- Link definitions --\x3e\r\n  <link name="base_link">\r\n    \x3c!-- Visual, collision, and inertial properties --\x3e\r\n  </link>\r\n  \r\n  \x3c!-- Joint definitions --\x3e\r\n  <joint name="torso_to_base" type="fixed">\r\n    \x3c!-- Parent, child, origin, axis, limits --\x3e\r\n  </joint>\r\n  \r\n  \x3c!-- More links and joints... --\x3e\r\n</robot>\n'})}),"\n",(0,s.jsx)(n.p,{children:"The basic building blocks are:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Links"}),": Rigid body parts of the robot"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Joints"}),": Connections between links that define motion constraints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Properties"}),": Visual geometry, collision shapes, inertial characteristics"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"42-link-elements",children:"4.2 Link Elements"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"link"})," represents a rigid body component of your robot. Each link can have three types of properties:"]}),"\n",(0,s.jsx)(n.h3,{id:"visual-properties",children:"Visual Properties"}),"\n",(0,s.jsx)(n.p,{children:"Visual properties define how the link appears in visualization tools:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="left_forearm">\r\n  <visual>\r\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n    <geometry>\r\n      <cylinder radius="0.03" length="0.3"/>\r\n    </geometry>\r\n    <material name="blue">\r\n      <color rgba="0.0 0.0 0.8 1.0"/>\r\n    </material>\r\n  </visual>\r\n</link>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key elements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<origin>"}),": Position (",(0,s.jsx)(n.code,{children:"xyz"}),") and orientation (",(0,s.jsx)(n.code,{children:"rpy"})," = roll, pitch, yaw in radians) relative to link frame"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<geometry>"}),": Shape of the visual representation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<material>"}),": Color and appearance (RGBA values: red, green, blue, alpha)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"collision-properties",children:"Collision Properties"}),"\n",(0,s.jsx)(n.p,{children:"Collision properties define simplified geometry for collision detection in physics simulation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="left_forearm">\r\n  <collision>\r\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n    <geometry>\r\n      <cylinder radius="0.035" length="0.3"/>\r\n    </geometry>\r\n  </collision>\r\n</link>\n'})}),"\n",(0,s.jsx)(n.admonition,{title:"Best Practice",type:"tip",children:(0,s.jsxs)(n.p,{children:["Collision geometry should be ",(0,s.jsx)(n.strong,{children:"simpler"})," than visual geometry for computational efficiency. For example, use a cylinder for collision even if the visual model is a complex mesh."]})}),"\n",(0,s.jsx)(n.h3,{id:"inertial-properties",children:"Inertial Properties"}),"\n",(0,s.jsx)(n.p,{children:"Inertial properties define the mass distribution critical for realistic physics simulation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="left_forearm">\r\n  <inertial>\r\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n    <mass value="1.2"/>\r\n    <inertia ixx="0.0015" ixy="0.0" ixz="0.0"\r\n             iyy="0.0015" iyz="0.0" izz="0.0003"/>\r\n  </inertial>\r\n</link>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key parameters"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<mass>"}),": Total mass in kilograms"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<inertia>"}),": 3x3 inertia tensor representing rotational inertia about each axis","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Diagonal elements (",(0,s.jsx)(n.code,{children:"ixx"}),", ",(0,s.jsx)(n.code,{children:"iyy"}),", ",(0,s.jsx)(n.code,{children:"izz"}),"): Moments of inertia"]}),"\n",(0,s.jsxs)(n.li,{children:["Off-diagonal elements (",(0,s.jsx)(n.code,{children:"ixy"}),", ",(0,s.jsx)(n.code,{children:"ixz"}),", ",(0,s.jsx)(n.code,{children:"iyz"}),"): Products of inertia (often 0 for symmetric bodies)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,s.jsx)(n.p,{children:"Incorrect inertial properties can cause unstable simulation behavior! For simple shapes, use standard formulas. For complex meshes, use CAD software to calculate inertia tensors."})}),"\n",(0,s.jsx)(n.h3,{id:"geometry-primitives",children:"Geometry Primitives"}),"\n",(0,s.jsx)(n.p,{children:"URDF supports several primitive shapes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Box --\x3e\r\n<geometry>\r\n  <box size="0.6 0.4 0.2"/>  \x3c!-- length width height --\x3e\r\n</geometry>\r\n\r\n\x3c!-- Cylinder --\x3e\r\n<geometry>\r\n  <cylinder radius="0.05" length="0.3"/>\r\n</geometry>\r\n\r\n\x3c!-- Sphere --\x3e\r\n<geometry>\r\n  <sphere radius="0.1"/>\r\n</geometry>\r\n\r\n\x3c!-- Mesh (for complex shapes) --\x3e\r\n<geometry>\r\n  <mesh filename="package://my_robot_description/meshes/hand.stl" scale="1.0 1.0 1.0"/>\r\n</geometry>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Mesh files"})," (STL, DAE, OBJ) allow high-fidelity visual models but should be used sparingly for collision geometry."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"43-joint-elements",children:"4.3 Joint Elements"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"joint"})," connects two links and defines how they can move relative to each other. Every joint has a ",(0,s.jsx)(n.strong,{children:"parent link"})," and a ",(0,s.jsx)(n.strong,{children:"child link"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"joint-types",children:"Joint Types"}),"\n",(0,s.jsx)(n.p,{children:"URDF defines several joint types:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Joint Type"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Example Use in Humanoid"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"revolute"})}),(0,s.jsx)(n.td,{children:"Rotates around an axis with limits"}),(0,s.jsx)(n.td,{children:"Elbow, knee (hinge joints)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"continuous"})}),(0,s.jsx)(n.td,{children:"Rotates around an axis without limits"}),(0,s.jsx)(n.td,{children:"Shoulder rotation, waist twist"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"prismatic"})}),(0,s.jsx)(n.td,{children:"Slides along an axis with limits"}),(0,s.jsx)(n.td,{children:"Telescoping arm segments"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"fixed"})}),(0,s.jsx)(n.td,{children:"No movement (rigid connection)"}),(0,s.jsx)(n.td,{children:"Torso to base, sensor mounts"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"floating"})}),(0,s.jsx)(n.td,{children:"6 DOF (3 translation + 3 rotation)"}),(0,s.jsx)(n.td,{children:"Rarely used, for free-floating robots"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"planar"})}),(0,s.jsx)(n.td,{children:"2D movement in a plane"}),(0,s.jsx)(n.td,{children:"Mobile base constraints"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"revolute-joint-example",children:"Revolute Joint Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="left_elbow" type="revolute">\r\n  <parent link="left_upper_arm"/>\r\n  <child link="left_forearm"/>\r\n  <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n  <axis xyz="0 1 0"/>\r\n  <limit lower="-2.6" upper="0.0" effort="50.0" velocity="2.0"/>\r\n  <dynamics damping="0.7" friction="0.0"/>\r\n</joint>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key elements"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<parent>"})," and ",(0,s.jsx)(n.code,{children:"<child>"}),": Define the kinematic chain"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<origin>"}),": Transformation from parent link frame to joint frame"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<axis>"}),": Direction of rotation/translation (unit vector)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<limit>"}),": Motion constraints","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lower"}),"/",(0,s.jsx)(n.code,{children:"upper"}),": Joint limits in radians (for revolute) or meters (for prismatic)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"effort"}),": Maximum force/torque the joint can exert"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"velocity"}),": Maximum joint velocity"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<dynamics>"}),": Physical properties","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"damping"}),": Resistance to motion (energy dissipation)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"friction"}),": Static friction force"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"continuous-joint-example",children:"Continuous Joint Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="left_shoulder_roll" type="continuous">\r\n  <parent link="torso"/>\r\n  <child link="left_upper_arm"/>\r\n  <origin xyz="0 0.2 0.4" rpy="0 0 0"/>\r\n  <axis xyz="1 0 0"/>\r\n  <dynamics damping="1.0"/>\r\n</joint>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Continuous joints have no ",(0,s.jsx)(n.code,{children:"<limit>"})," element since they can rotate indefinitely."]}),"\n",(0,s.jsx)(n.h3,{id:"fixed-joint-example",children:"Fixed Joint Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="head_to_torso" type="fixed">\r\n  <parent link="torso"/>\r\n  <child link="head"/>\r\n  <origin xyz="0 0 0.5" rpy="0 0 0"/>\r\n</joint>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Fixed joints create rigid connections and have no ",(0,s.jsx)(n.code,{children:"<axis>"})," or ",(0,s.jsx)(n.code,{children:"<limit>"}),"."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"44-building-a-simple-multi-link-robot",children:"4.4 Building a Simple Multi-Link Robot"}),"\n",(0,s.jsx)(n.p,{children:"Let's build a simple 2-DOF robotic arm step-by-step to understand the URDF workflow."}),"\n",(0,s.jsx)(n.h3,{id:"step-1-define-the-base-link",children:"Step 1: Define the Base Link"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_arm">\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.1 0.1 0.05"/>\r\n      </geometry>\r\n      <material name="gray">\r\n        <color rgba="0.5 0.5 0.5 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.1 0.1 0.05"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="0.5"/>\r\n      <inertia ixx="0.0002" ixy="0.0" ixz="0.0"\r\n               iyy="0.0002" iyz="0.0" izz="0.0003"/>\r\n    </inertial>\r\n  </link>\r\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"step-2-add-upper-arm-link-and-joint",children:"Step 2: Add Upper Arm Link and Joint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'  <link name="upper_arm">\r\n    <visual>\r\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.02" length="0.3"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="0.8 0.0 0.0 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.02" length="0.3"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n      <mass value="0.3"/>\r\n      <inertia ixx="0.0023" ixy="0.0" ixz="0.0"\r\n               iyy="0.0023" iyz="0.0" izz="0.00006"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="shoulder" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="upper_arm"/>\r\n    <origin xyz="0 0 0.025" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10.0" velocity="1.0"/>\r\n  </joint>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"step-3-add-forearm-link-and-elbow-joint",children:"Step 3: Add Forearm Link and Elbow Joint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'  <link name="forearm">\r\n    <visual>\r\n      <origin xyz="0 0 0.125" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.015" length="0.25"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0.0 0.0 0.8 1.0"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0.125" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.015" length="0.25"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin xyz="0 0 0.125" rpy="0 0 0"/>\r\n      <mass value="0.2"/>\r\n      <inertia ixx="0.0011" ixy="0.0" ixz="0.0"\r\n               iyy="0.0011" iyz="0.0" izz="0.000023"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="elbow" type="revolute">\r\n    <parent link="upper_arm"/>\r\n    <child link="forearm"/>\r\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-2.0" upper="0.0" effort="5.0" velocity="1.0"/>\r\n  </joint>\n'})}),"\n",(0,s.jsx)(n.p,{children:"This creates a simple arm with shoulder and elbow joints that can be visualized and simulated!"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"45-humanoid-specific-urdf-modeling",children:"4.5 Humanoid-Specific URDF Modeling"}),"\n",(0,s.jsx)(n.p,{children:"Humanoid robots require careful planning of kinematic chains and joint hierarchies. Let's build a simplified humanoid structure."}),"\n",(0,s.jsx)(n.h3,{id:"hierarchical-structure",children:"Hierarchical Structure"}),"\n",(0,s.jsx)(n.p,{children:"A typical humanoid has this hierarchy:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"base_link (root)\r\n  \u2514\u2500\u2500 torso\r\n      \u251c\u2500\u2500 head\r\n      \u251c\u2500\u2500 left_upper_arm\r\n      \u2502   \u2514\u2500\u2500 left_forearm\r\n      \u2502       \u2514\u2500\u2500 left_hand\r\n      \u251c\u2500\u2500 right_upper_arm\r\n      \u2502   \u2514\u2500\u2500 right_forearm\r\n      \u2502       \u2514\u2500\u2500 right_hand\r\n      \u251c\u2500\u2500 left_thigh\r\n      \u2502   \u2514\u2500\u2500 left_shin\r\n      \u2502       \u2514\u2500\u2500 left_foot\r\n      \u2514\u2500\u2500 right_thigh\r\n          \u2514\u2500\u2500 right_shin\r\n              \u2514\u2500\u2500 right_foot\n"})}),"\n",(0,s.jsx)(n.h3,{id:"kinematic-chains-and-joint-hierarchies",children:"Kinematic Chains and Joint Hierarchies"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Kinematic chain"}),": A sequence of links connected by joints, forming a path from root to end-effector."]}),"\n",(0,s.jsx)(n.p,{children:"For a humanoid:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Left arm chain"}),": ",(0,s.jsx)(n.code,{children:"torso \u2192 left_upper_arm \u2192 left_forearm \u2192 left_hand"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Right leg chain"}),": ",(0,s.jsx)(n.code,{children:"torso \u2192 right_thigh \u2192 right_shin \u2192 right_foot"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Forward Kinematics"}),": Given joint angles, calculate end-effector position\r\n",(0,s.jsx)(n.strong,{children:"Inverse Kinematics"}),": Given desired end-effector position, calculate required joint angles"]}),"\n",(0,s.jsx)(n.h3,{id:"example-humanoid-torso-and-head",children:"Example: Humanoid Torso and Head"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="base_link"/>\r\n\r\n<link name="torso">\r\n  <visual>\r\n    <geometry>\r\n      <box size="0.3 0.4 0.6"/>\r\n    </geometry>\r\n    <material name="gray"><color rgba="0.7 0.7 0.7 1.0"/></material>\r\n  </visual>\r\n  <collision>\r\n    <geometry>\r\n      <box size="0.3 0.4 0.6"/>\r\n    </geometry>\r\n  </collision>\r\n  <inertial>\r\n    <mass value="15.0"/>\r\n    <inertia ixx="0.52" iyy="0.47" izz="0.22" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n  </inertial>\r\n</link>\r\n\r\n<joint name="base_to_torso" type="fixed">\r\n  <parent link="base_link"/>\r\n  <child link="torso"/>\r\n  <origin xyz="0 0 0.9" rpy="0 0 0"/>\r\n</joint>\r\n\r\n<link name="head">\r\n  <visual>\r\n    <geometry>\r\n      <sphere radius="0.12"/>\r\n    </geometry>\r\n    <material name="skin"><color rgba="1.0 0.9 0.8 1.0"/></material>\r\n  </visual>\r\n  <collision>\r\n    <geometry>\r\n      <sphere radius="0.12"/>\r\n    </geometry>\r\n  </collision>\r\n  <inertial>\r\n    <mass value="2.0"/>\r\n    <inertia ixx="0.0058" iyy="0.0058" izz="0.0058" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n  </inertial>\r\n</link>\r\n\r\n<joint name="neck" type="revolute">\r\n  <parent link="torso"/>\r\n  <child link="head"/>\r\n  <origin xyz="0 0 0.35" rpy="0 0 0"/>\r\n  <axis xyz="0 0 1"/>\r\n  <limit lower="-1.57" upper="1.57" effort="5.0" velocity="1.0"/>\r\n</joint>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"example-left-arm",children:"Example: Left Arm"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="left_upper_arm">\r\n  <visual>\r\n    <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n    <geometry>\r\n      <cylinder radius="0.04" length="0.3"/>\r\n    </geometry>\r\n    <material name="gray"><color rgba="0.6 0.6 0.6 1.0"/></material>\r\n  </visual>\r\n  <inertial>\r\n    <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n    <mass value="1.5"/>\r\n    <inertia ixx="0.0115" iyy="0.0115" izz="0.0012" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n  </inertial>\r\n</link>\r\n\r\n<joint name="left_shoulder" type="continuous">\r\n  <parent link="torso"/>\r\n  <child link="left_upper_arm"/>\r\n  <origin xyz="0 0.22 0.25" rpy="0 0 0"/>\r\n  <axis xyz="1 0 0"/>\r\n  <dynamics damping="1.0"/>\r\n</joint>\r\n\r\n<link name="left_forearm">\r\n  <visual>\r\n    <origin xyz="0 0 -0.125" rpy="0 0 0"/>\r\n    <geometry>\r\n      <cylinder radius="0.03" length="0.25"/>\r\n    </geometry>\r\n    <material name="gray"><color rgba="0.6 0.6 0.6 1.0"/></material>\r\n  </visual>\r\n  <inertial>\r\n    <origin xyz="0 0 -0.125" rpy="0 0 0"/>\r\n    <mass value="0.8"/>\r\n    <inertia ixx="0.0042" iyy="0.0042" izz="0.00036" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n  </inertial>\r\n</link>\r\n\r\n<joint name="left_elbow" type="revolute">\r\n  <parent link="left_upper_arm"/>\r\n  <child link="left_forearm"/>\r\n  <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n  <axis xyz="0 1 0"/>\r\n  <limit lower="-2.6" upper="0.0" effort="20.0" velocity="2.0"/>\r\n</joint>\r\n\r\n<link name="left_hand">\r\n  <visual>\r\n    <geometry>\r\n      <box size="0.08 0.12 0.03"/>\r\n    </geometry>\r\n    <material name="skin"><color rgba="1.0 0.9 0.8 1.0"/></material>\r\n  </visual>\r\n  <inertial>\r\n    <mass value="0.3"/>\r\n    <inertia ixx="0.00016" iyy="0.00010" izz="0.00020" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n  </inertial>\r\n</link>\r\n\r\n<joint name="left_wrist" type="fixed">\r\n  <parent link="left_forearm"/>\r\n  <child link="left_hand"/>\r\n  <origin xyz="0 0 -0.25" rpy="0 0 0"/>\r\n</joint>\n'})}),"\n",(0,s.jsx)(n.admonition,{title:"Exercise",type:"tip",children:(0,s.jsxs)(n.p,{children:["Create the right arm by mirroring the left arm structure, changing ",(0,s.jsx)(n.code,{children:"left_"})," to ",(0,s.jsx)(n.code,{children:"right_"})," and adjusting the y-coordinate of the shoulder origin from ",(0,s.jsx)(n.code,{children:"0.22"})," to ",(0,s.jsx)(n.code,{children:"-0.22"}),"."]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"46-using-xacro-for-modular-urdf",children:"4.6 Using Xacro for Modular URDF"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Xacro"})," (XML Macros) extends URDF with programming features: variables, macros, math expressions, and file inclusion. This makes URDF files more maintainable and reusable."]}),"\n",(0,s.jsx)(n.h3,{id:"basic-xacro-features",children:"Basic Xacro Features"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="my_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">\r\n  \r\n  \x3c!-- Define properties (constants) --\x3e\r\n  <xacro:property name="arm_radius" value="0.04"/>\r\n  <xacro:property name="arm_length" value="0.3"/>\r\n  <xacro:property name="arm_mass" value="1.5"/>\r\n  \r\n  \x3c!-- Use properties with ${} syntax --\x3e\r\n  <link name="upper_arm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="${arm_radius}" length="${arm_length}"/>\r\n      </geometry>\r\n    </visual>\r\n    <inertial>\r\n      <mass value="${arm_mass}"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Math expressions --\x3e\r\n  <xacro:property name="half_length" value="${arm_length / 2.0}"/>\r\n  \r\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"xacro-macros-for-reusable-components",children:"Xacro Macros for Reusable Components"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Define an arm macro --\x3e\r\n<xacro:macro name="arm" params="prefix reflect">\r\n  <link name="${prefix}_upper_arm">\r\n    <visual>\r\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.3"/>\r\n      </geometry>\r\n      <material name="gray"><color rgba="0.6 0.6 0.6 1.0"/></material>\r\n    </visual>\r\n    <inertial>\r\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n      <mass value="1.5"/>\r\n      <inertia ixx="0.0115" iyy="0.0115" izz="0.0012" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="${prefix}_shoulder" type="continuous">\r\n    <parent link="torso"/>\r\n    <child link="${prefix}_upper_arm"/>\r\n    <origin xyz="0 ${reflect * 0.22} 0.25" rpy="0 0 0"/>\r\n    <axis xyz="1 0 0"/>\r\n    <dynamics damping="1.0"/>\r\n  </joint>\r\n\r\n  <link name="${prefix}_forearm">\r\n    <visual>\r\n      <origin xyz="0 0 -0.125" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.03" length="0.25"/>\r\n      </geometry>\r\n      <material name="gray"><color rgba="0.6 0.6 0.6 1.0"/></material>\r\n    </visual>\r\n    <inertial>\r\n      <origin xyz="0 0 -0.125" rpy="0 0 0"/>\r\n      <mass value="0.8"/>\r\n      <inertia ixx="0.0042" iyy="0.0042" izz="0.00036" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="${prefix}_elbow" type="revolute">\r\n    <parent link="${prefix}_upper_arm"/>\r\n    <child link="${prefix}_forearm"/>\r\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-2.6" upper="0.0" effort="20.0" velocity="2.0"/>\r\n  </joint>\r\n</xacro:macro>\r\n\r\n\x3c!-- Instantiate the macro for both arms --\x3e\r\n<xacro:arm prefix="left" reflect="1"/>\r\n<xacro:arm prefix="right" reflect="-1"/>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This creates both arms with a single macro definition! The ",(0,s.jsx)(n.code,{children:"reflect"})," parameter mirrors the y-coordinate."]}),"\n",(0,s.jsx)(n.h3,{id:"file-inclusion",children:"File Inclusion"}),"\n",(0,s.jsx)(n.p,{children:"Split large robot descriptions across multiple files:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- main_robot.urdf.xacro --\x3e\r\n<robot name="humanoid" xmlns:xacro="http://www.ros.org/wiki/xacro">\r\n  <xacro:include filename="$(find my_robot_description)/urdf/torso.xacro"/>\r\n  <xacro:include filename="$(find my_robot_description)/urdf/arms.xacro"/>\r\n  <xacro:include filename="$(find my_robot_description)/urdf/legs.xacro"/>\r\n  \r\n  \x3c!-- Instantiate components --\x3e\r\n  <xacro:torso/>\r\n  <xacro:arm prefix="left" reflect="1"/>\r\n  <xacro:arm prefix="right" reflect="-1"/>\r\n  <xacro:leg prefix="left" reflect="1"/>\r\n  <xacro:leg prefix="right" reflect="-1"/>\r\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"converting-xacro-to-urdf",children:"Converting Xacro to URDF"}),"\n",(0,s.jsx)(n.p,{children:"Xacro files must be processed into URDF before use:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"xacro robot.urdf.xacro > robot.urdf\r\n# Or use the ROS 2 command:\r\nros2 run xacro xacro robot.urdf.xacro -o robot.urdf\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"47-urdf-validation-and-debugging",children:"4.7 URDF Validation and Debugging"}),"\n",(0,s.jsx)(n.h3,{id:"using-check_urdf",children:"Using check_urdf"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"check_urdf"})," tool validates URDF syntax and structure:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"check_urdf my_robot.urdf\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example output"})," for a valid URDF:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"robot name is: my_humanoid\r\n---------- Successfully Parsed XML ---------------\r\nroot Link: base_link has 1 child(ren)\r\n    child(1):  torso\r\n        child(1):  head\r\n        child(2):  left_upper_arm\r\n            child(1):  left_forearm\r\n                child(1):  left_hand\r\n        child(3):  right_upper_arm\r\n            child(1):  right_forearm\r\n                child(1):  right_hand\n"})}),"\n",(0,s.jsx)(n.h3,{id:"common-urdf-errors",children:"Common URDF Errors"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Error"}),(0,s.jsx)(n.th,{children:"Cause"}),(0,s.jsx)(n.th,{children:"Solution"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'"Failed to parse"'}),(0,s.jsx)(n.td,{children:"XML syntax error"}),(0,s.jsx)(n.td,{children:"Check for unclosed tags, missing quotes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'"link [] has no inertia"'}),(0,s.jsxs)(n.td,{children:["Missing ",(0,s.jsx)(n.code,{children:"<inertial>"})," block"]}),(0,s.jsx)(n.td,{children:"Add mass and inertia, even if placeholder values"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'"joint [] is not connected to the root"'}),(0,s.jsx)(n.td,{children:"Disconnected kinematic tree"}),(0,s.jsx)(n.td,{children:"Ensure all links trace back to a root link"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'"negative joint limit"'}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"lower > upper"})," in joint limit"]}),(0,s.jsx)(n.td,{children:"Swap or correct limit values"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:'"inertia matrix not positive definite"'}),(0,s.jsx)(n.td,{children:"Impossible inertia values"}),(0,s.jsx)(n.td,{children:"Use physically realistic inertia tensors"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Start simple"}),": Build and validate incrementally (1-2 links at a time)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use visualization"}),": Load in RViz2 early to spot geometric errors"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check coordinate frames"}),": Use RViz2's TF display to verify frame orientations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate math"}),": Use online inertia calculators for standard shapes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use xacro wisely"}),": Test macros with simple cases before scaling up"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"48-visualization-in-rviz2",children:"4.8 Visualization in RViz2"}),"\n",(0,s.jsx)(n.p,{children:"RViz2 is ROS 2's 3D visualization tool. To visualize a URDF:"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-create-a-launch-file",children:"Step 1: Create a Launch File"}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"display_robot.launch.py"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nfrom launch.substitutions import Command\r\nimport os\r\nfrom ament_index_python.packages import get_package_share_directory\r\n\r\ndef generate_launch_description():\r\n    # Get URDF file path\r\n    urdf_file = os.path.join(\r\n        get_package_share_directory('my_robot_description'),\r\n        'urdf',\r\n        'my_humanoid.urdf'\r\n    )\r\n    \r\n    # Read URDF content\r\n    with open(urdf_file, 'r') as file:\r\n        robot_desc = file.read()\r\n    \r\n    return LaunchDescription([\r\n        # Robot State Publisher: publishes TF transforms\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            name='robot_state_publisher',\r\n            output='screen',\r\n            parameters=[{'robot_description': robot_desc}]\r\n        ),\r\n        \r\n        # Joint State Publisher GUI: control joint angles interactively\r\n        Node(\r\n            package='joint_state_publisher_gui',\r\n            executable='joint_state_publisher_gui',\r\n            name='joint_state_publisher_gui',\r\n            output='screen'\r\n        ),\r\n        \r\n        # RViz2\r\n        Node(\r\n            package='rviz2',\r\n            executable='rviz2',\r\n            name='rviz2',\r\n            output='screen'\r\n        )\r\n    ])\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-2-launch-the-visualization",children:"Step 2: Launch the Visualization"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_description display_robot.launch.py\n"})}),"\n",(0,s.jsx)(n.p,{children:"This opens:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RViz2"})," window for 3D visualization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Joint State Publisher GUI"})," with sliders for each joint"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-3-configure-rviz2",children:"Step 3: Configure RViz2"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Set ",(0,s.jsx)(n.strong,{children:"Fixed Frame"})," to ",(0,s.jsx)(n.code,{children:"base_link"})," (or your root link)"]}),"\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.strong,{children:"RobotModel"})," display:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Click "Add" \u2192 "RobotModel"'}),"\n",(0,s.jsxs)(n.li,{children:["Topic should auto-populate as ",(0,s.jsx)(n.code,{children:"/robot_description"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.strong,{children:"TF"})," display to see coordinate frames"]}),"\n",(0,s.jsx)(n.li,{children:"Use joint sliders to move the robot!"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Pro Tip",type:"tip",children:(0,s.jsxs)(n.p,{children:["Save your RViz2 configuration (File \u2192 Save Config) and load it automatically in your launch file using the ",(0,s.jsx)(n.code,{children:"rviz_config"})," parameter."]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"49-reference-frames-and-naming-conventions",children:"4.9 Reference Frames and Naming Conventions"}),"\n",(0,s.jsx)(n.h3,{id:"rep-103-standard-units-and-coordinate-conventions",children:"REP-103: Standard Units and Coordinate Conventions"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.ros.org/reps/rep-0103.html",children:"REP-103"})," defines ROS coordinate frame conventions:"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Coordinate Frame Orientation"})," (Right-Hand Rule):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"X-axis"}),": Forward"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Y-axis"}),": Left"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Z-axis"}),": Up"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Units"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Length: meters (m)"}),"\n",(0,s.jsx)(n.li,{children:"Angle: radians (rad)"}),"\n",(0,s.jsx)(n.li,{children:"Mass: kilograms (kg)"}),"\n",(0,s.jsx)(n.li,{children:"Time: seconds (s)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Rotation Convention"}),": Intrinsic rotations in RPY (Roll-Pitch-Yaw) order"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Roll"}),": Rotation around X-axis"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pitch"}),": Rotation around Y-axis"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Yaw"}),": Rotation around Z-axis"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"rep-105-coordinate-frames-for-mobile-platforms",children:"REP-105: Coordinate Frames for Mobile Platforms"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.ros.org/reps/rep-0105.html",children:"REP-105"})," defines standard frame names:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Frame"}),(0,s.jsx)(n.th,{children:"Purpose"}),(0,s.jsx)(n.th,{children:"Example for Humanoid"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"base_link"})}),(0,s.jsx)(n.td,{children:"Robot's root reference frame"}),(0,s.jsx)(n.td,{children:"Center of torso base"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"base_footprint"})}),(0,s.jsx)(n.td,{children:"Projection of base onto ground plane"}),(0,s.jsx)(n.td,{children:"Point on floor between feet"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"odom"})}),(0,s.jsx)(n.td,{children:"Odometry (drift over time)"}),(0,s.jsx)(n.td,{children:"World-fixed frame for local navigation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"map"})}),(0,s.jsx)(n.td,{children:"Global reference frame"}),(0,s.jsx)(n.td,{children:"Building or world map frame"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"naming-conventions-for-humanoid-robots",children:"Naming Conventions for Humanoid Robots"}),"\n",(0,s.jsx)(n.p,{children:"Follow these conventions for clarity and interoperability:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Link Names"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use lowercase with underscores: ",(0,s.jsx)(n.code,{children:"left_upper_arm"}),", not ",(0,s.jsx)(n.code,{children:"LeftUpperArm"})]}),"\n",(0,s.jsxs)(n.li,{children:["Include side prefixes: ",(0,s.jsx)(n.code,{children:"left_*"}),", ",(0,s.jsx)(n.code,{children:"right_*"})]}),"\n",(0,s.jsxs)(n.li,{children:["Use anatomical terms: ",(0,s.jsx)(n.code,{children:"torso"}),", ",(0,s.jsx)(n.code,{children:"thigh"}),", ",(0,s.jsx)(n.code,{children:"shin"}),", ",(0,s.jsx)(n.code,{children:"foot"}),", ",(0,s.jsx)(n.code,{children:"hand"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Joint Names"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Describe the motion or location: ",(0,s.jsx)(n.code,{children:"left_elbow"}),", ",(0,s.jsx)(n.code,{children:"right_knee"}),", ",(0,s.jsx)(n.code,{children:"neck"})]}),"\n",(0,s.jsxs)(n.li,{children:["Use consistent naming: if arm joints are ",(0,s.jsx)(n.code,{children:"left_shoulder"}),", ",(0,s.jsx)(n.code,{children:"left_elbow"}),", use ",(0,s.jsx)(n.code,{children:"left_wrist"})," (not ",(0,s.jsx)(n.code,{children:"left_hand_joint"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Frame Orientations"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All frames use REP-103 orientation (X forward, Y left, Z up)"}),"\n",(0,s.jsx)(n.li,{children:"Joint axes follow right-hand rule"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example Humanoid Frame Structure"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"base_link (root)\r\n\u251c\u2500\u2500 torso\r\n\u2502   \u251c\u2500\u2500 head\r\n\u2502   \u251c\u2500\u2500 left_shoulder \u2192 left_upper_arm \u2192 left_forearm \u2192 left_hand\r\n\u2502   \u251c\u2500\u2500 right_shoulder \u2192 right_upper_arm \u2192 right_forearm \u2192 right_hand\r\n\u2502   \u251c\u2500\u2500 left_hip \u2192 left_thigh \u2192 left_shin \u2192 left_foot\r\n\u2502   \u2514\u2500\u2500 right_hip \u2192 right_thigh \u2192 right_shin \u2192 right_foot\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"410-sensor-integration-in-urdf",children:"4.10 Sensor Integration in URDF"}),"\n",(0,s.jsx)(n.p,{children:"URDF can include sensor definitions for simulation. Sensors are typically modeled as:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"A link representing the sensor's physical body"}),"\n",(0,s.jsx)(n.li,{children:"A fixed joint attaching it to the robot"}),"\n",(0,s.jsx)(n.li,{children:"Gazebo plugin tags for simulation behavior"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"camera-sensor-example",children:"Camera Sensor Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="camera_link">\r\n  <visual>\r\n    <geometry>\r\n      <box size="0.02 0.05 0.02"/>\r\n    </geometry>\r\n    <material name="black"><color rgba="0.0 0.0 0.0 1.0"/></material>\r\n  </visual>\r\n  <inertial>\r\n    <mass value="0.1"/>\r\n    <inertia ixx="0.00003" iyy="0.00001" izz="0.00003" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n  </inertial>\r\n</link>\r\n\r\n<joint name="camera_joint" type="fixed">\r\n  <parent link="head"/>\r\n  <child link="camera_link"/>\r\n  <origin xyz="0.08 0 0" rpy="0 0 0"/>\r\n</joint>\r\n\r\n\x3c!-- Gazebo plugin for camera --\x3e\r\n<gazebo reference="camera_link">\r\n  <sensor type="camera" name="head_camera">\r\n    <update_rate>30.0</update_rate>\r\n    <camera>\r\n      <horizontal_fov>1.3962634</horizontal_fov>\r\n      <image>\r\n        <width>640</width>\r\n        <height>480</height>\r\n        <format>R8G8B8</format>\r\n      </image>\r\n      <clip>\r\n        <near>0.02</near>\r\n        <far>10.0</far>\r\n      </clip>\r\n    </camera>\r\n    <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\r\n      <ros>\r\n        <namespace>/camera</namespace>\r\n        <remapping>image_raw:=rgb/image_raw</remapping>\r\n        <remapping>camera_info:=rgb/camera_info</remapping>\r\n      </ros>\r\n      <camera_name>head_camera</camera_name>\r\n      <frame_name>camera_link</frame_name>\r\n    </plugin>\r\n  </sensor>\r\n</gazebo>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"lidar-sensor-example",children:"Lidar Sensor Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="lidar_link">\r\n  <visual>\r\n    <geometry>\r\n      <cylinder radius="0.05" length="0.07"/>\r\n    </geometry>\r\n    <material name="black"><color rgba="0.1 0.1 0.1 1.0"/></material>\r\n  </visual>\r\n  <inertial>\r\n    <mass value="0.3"/>\r\n    <inertia ixx="0.00018" iyy="0.00018" izz="0.0001875" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n  </inertial>\r\n</link>\r\n\r\n<joint name="lidar_joint" type="fixed">\r\n  <parent link="torso"/>\r\n  <child link="lidar_link"/>\r\n  <origin xyz="0.15 0 0.3" rpy="0 0 0"/>\r\n</joint>\r\n\r\n<gazebo reference="lidar_link">\r\n  <sensor type="ray" name="lidar">\r\n    <pose>0 0 0 0 0 0</pose>\r\n    <visualize>true</visualize>\r\n    <update_rate>10</update_rate>\r\n    <ray>\r\n      <scan>\r\n        <horizontal>\r\n          <samples>360</samples>\r\n          <resolution>1</resolution>\r\n          <min_angle>-3.14159</min_angle>\r\n          <max_angle>3.14159</max_angle>\r\n        </horizontal>\r\n      </scan>\r\n      <range>\r\n        <min>0.2</min>\r\n        <max>10.0</max>\r\n        <resolution>0.01</resolution>\r\n      </range>\r\n    </ray>\r\n    <plugin name="lidar_controller" filename="libgazebo_ros_ray_sensor.so">\r\n      <ros>\r\n        <namespace>/lidar</namespace>\r\n        <remapping>~/out:=scan</remapping>\r\n      </ros>\r\n      <output_type>sensor_msgs/LaserScan</output_type>\r\n      <frame_name>lidar_link</frame_name>\r\n    </plugin>\r\n  </sensor>\r\n</gazebo>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"imu-sensor-example",children:"IMU Sensor Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="imu_link">\r\n  <visual>\r\n    <geometry>\r\n      <box size="0.01 0.01 0.005"/>\r\n    </geometry>\r\n  </visual>\r\n  <inertial>\r\n    <mass value="0.01"/>\r\n    <inertia ixx="0.000001" iyy="0.000001" izz="0.000001" ixy="0.0" ixz="0.0" iyz="0.0"/>\r\n  </inertial>\r\n</link>\r\n\r\n<joint name="imu_joint" type="fixed">\r\n  <parent link="torso"/>\r\n  <child link="imu_link"/>\r\n  <origin xyz="0 0 0" rpy="0 0 0"/>\r\n</joint>\r\n\r\n<gazebo reference="imu_link">\r\n  <sensor name="imu_sensor" type="imu">\r\n    <always_on>true</always_on>\r\n    <update_rate>100</update_rate>\r\n    <imu>\r\n      <angular_velocity>\r\n        <x><noise type="gaussian"><mean>0.0</mean><stddev>0.0002</stddev></noise></x>\r\n        <y><noise type="gaussian"><mean>0.0</mean><stddev>0.0002</stddev></noise></y>\r\n        <z><noise type="gaussian"><mean>0.0</mean><stddev>0.0002</stddev></noise></z>\r\n      </angular_velocity>\r\n      <linear_acceleration>\r\n        <x><noise type="gaussian"><mean>0.0</mean><stddev>0.017</stddev></noise></x>\r\n        <y><noise type="gaussian"><mean>0.0</mean><stddev>0.017</stddev></noise></y>\r\n        <z><noise type="gaussian"><mean>0.0</mean><stddev>0.017</stddev></noise></z>\r\n      </linear_acceleration>\r\n    </imu>\r\n    <plugin name="imu_plugin" filename="libgazebo_ros_imu_sensor.so">\r\n      <ros>\r\n        <namespace>/imu</namespace>\r\n        <remapping>~/out:=data</remapping>\r\n      </ros>\r\n      <frame_name>imu_link</frame_name>\r\n    </plugin>\r\n  </sensor>\r\n</gazebo>\n'})}),"\n",(0,s.jsx)(n.admonition,{title:"Module 2 Preview",type:"note",children:(0,s.jsx)(n.p,{children:"Gazebo plugins are covered in depth in Module 2 (Digital Twin). For now, understand that sensors require both URDF link definitions and Gazebo-specific plugin configurations."})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"411-gazebo-simulation-preview-instructor-led-demo",children:"4.11 Gazebo Simulation Preview (Instructor-Led Demo)"}),"\n",(0,s.jsx)(n.admonition,{title:"Instructor-Led Demo (10-15 minutes)",type:"info",children:(0,s.jsx)(n.p,{children:"This section is demonstrated by the instructor. Students do NOT need to install or use Gazebo in Module 1. This preview contextualizes URDF learning and previews Module 2 content."})}),"\n",(0,s.jsx)(n.h3,{id:"what-is-gazebo",children:"What is Gazebo?"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Gazebo"})," is a physics-based 3D simulator for ROS 2 robots. It provides:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Realistic physics simulation (gravity, collision, friction)"}),"\n",(0,s.jsx)(n.li,{children:"Sensor simulation (camera, lidar, IMU with noise models)"}),"\n",(0,s.jsx)(n.li,{children:"Actuator modeling (motors, servos with dynamics)"}),"\n",(0,s.jsx)(n.li,{children:"Environment modeling (terrains, obstacles, lighting)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"demo-setup-instructor-only",children:"Demo Setup (Instructor Only)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Prerequisites"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Gazebo 11 (for ROS 2 Humble)"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"ros-humble-gazebo-ros-pkgs"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Load URDF in Gazebo"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: Launch Gazebo with empty world\r\ngazebo --verbose\r\n\r\n# Terminal 2: Spawn robot from URDF\r\nros2 run gazebo_ros spawn_entity.py -entity my_humanoid \\\r\n  -file /path/to/my_humanoid.urdf\n"})}),"\n",(0,s.jsx)(n.h3,{id:"what-students-should-observe",children:"What Students Should Observe"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Physics Simulation"}),": Robot falls due to gravity, joints move with realistic dynamics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visual Rendering"}),": URDF visual geometry appears in 3D environment"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Collision Detection"}),": Robot interactions with ground plane and obstacles"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sensor Data"}),": Camera images, lidar scans published to ROS 2 topics (if sensors defined)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"URDF defines robot structure for BOTH visualization (RViz2) AND simulation (Gazebo)"}),"\n",(0,s.jsx)(n.li,{children:"Accurate inertial properties are critical for realistic simulation"}),"\n",(0,s.jsx)(n.li,{children:"Gazebo plugins extend URDF with sensor and actuator behavior"}),"\n",(0,s.jsx)(n.li,{children:"Module 2 will cover Gazebo in depth for full robot simulation workflows"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"instructor-prep-guide",children:"Instructor Prep Guide"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Before Demo"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Test URDF loading in Gazebo on instructor machine"}),"\n",(0,s.jsx)(n.li,{children:"Prepare simple world file with ground plane"}),"\n",(0,s.jsx)(n.li,{children:"Have RViz2 open alongside Gazebo to compare visualization vs. simulation"}),"\n",(0,s.jsx)(n.li,{children:"Prepare example commands in script for smooth demo flow"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"During Demo"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Show URDF file structure (5 min)"}),"\n",(0,s.jsx)(n.li,{children:"Launch Gazebo, spawn robot (3 min)"}),"\n",(0,s.jsx)(n.li,{children:"Interact with robot: apply forces, move joints (3 min)"}),"\n",(0,s.jsx)(n.li,{children:"Show sensor outputs in RViz2 (e.g., camera feed) (2 min)"}),"\n",(0,s.jsx)(n.li,{children:"Q&A and transition to Module 2 preview (2 min)"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"412-hands-on-exercise-build-your-humanoid-urdf",children:"4.12 Hands-On Exercise: Build Your Humanoid URDF"}),"\n",(0,s.jsx)(n.h3,{id:"exercise-overview",children:"Exercise Overview"}),"\n",(0,s.jsx)(n.p,{children:"Create a simplified humanoid URDF with:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Torso, head, two arms, two legs"}),"\n",(0,s.jsx)(n.li,{children:"At least 10 joints (neck, shoulders, elbows, hips, knees)"}),"\n",(0,s.jsx)(n.li,{children:"Proper inertial properties"}),"\n",(0,s.jsx)(n.li,{children:"Xacro macros for arms and legs"}),"\n",(0,s.jsx)(n.li,{children:"Visualization in RViz2"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"skeleton-code",children:"Skeleton Code"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File"}),": ",(0,s.jsx)(n.code,{children:"my_humanoid.urdf.xacro"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="my_humanoid" xmlns:xacro="http://www.ros.org/wiki/xacro">\r\n\r\n  \x3c!-- TODO: Define properties for link dimensions --\x3e\r\n  <xacro:property name="torso_width" value="0.4"/>\r\n  \x3c!-- Add more properties here --\x3e\r\n\r\n  \x3c!-- Base link --\x3e\r\n  <link name="base_link"/>\r\n\r\n  \x3c!-- TODO: Define torso link with visual, collision, and inertial --\x3e\r\n  <link name="torso">\r\n    \x3c!-- Your code here --\x3e\r\n  </link>\r\n\r\n  <joint name="base_to_torso" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="torso"/>\r\n    <origin xyz="0 0 0.9" rpy="0 0 0"/>\r\n  </joint>\r\n\r\n  \x3c!-- TODO: Define head link and neck joint --\x3e\r\n\r\n  \x3c!-- TODO: Create xacro macro for arm --\x3e\r\n  <xacro:macro name="arm" params="prefix reflect">\r\n    \x3c!-- Your code here --\x3e\r\n  </xacro:macro>\r\n\r\n  \x3c!-- TODO: Instantiate arms --\x3e\r\n  <xacro:arm prefix="left" reflect="1"/>\r\n  <xacro:arm prefix="right" reflect="-1"/>\r\n\r\n  \x3c!-- TODO: Create xacro macro for leg --\x3e\r\n  <xacro:macro name="leg" params="prefix reflect">\r\n    \x3c!-- Your code here: thigh, shin, foot links and joints --\x3e\r\n  </xacro:macro>\r\n\r\n  \x3c!-- TODO: Instantiate legs --\x3e\r\n  <xacro:leg prefix="left" reflect="1"/>\r\n  <xacro:leg prefix="right" reflect="-1"/>\r\n\r\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"step-by-step-instructions",children:"Step-by-Step Instructions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fill in properties"}),": Define dimensions for all body parts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create torso link"}),": Box geometry, mass ~15kg, appropriate inertia"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create head link"}),": Sphere geometry, mass ~2kg, connected via revolute neck joint"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Define arm macro"}),": Upper arm + forearm + hand with shoulder, elbow, wrist joints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Define leg macro"}),": Thigh + shin + foot with hip, knee, ankle joints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate URDF"}),": Run ",(0,s.jsx)(n.code,{children:"check_urdf"})," after conversion from xacro"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visualize"}),": Use the launch file from section 4.8 to view in RViz2"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"success-criteria",children:"Success Criteria"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","URDF passes ",(0,s.jsx)(n.code,{children:"check_urdf"})," without errors"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Robot visualizes correctly in RViz2"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","All joints move smoothly in Joint State Publisher GUI"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Kinematic chains are correct (check TF tree)"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Inertial properties are physically reasonable"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"bonus-challenges",children:"Bonus Challenges"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Add sensors: camera on head, IMU in torso"}),"\n",(0,s.jsx)(n.li,{children:"Create separate xacro files for each body component"}),"\n",(0,s.jsx)(n.li,{children:"Add color materials for different body parts"}),"\n",(0,s.jsx)(n.li,{children:"Calculate exact inertia tensors using formulas for cylinders/boxes"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"chapter-summary",children:"Chapter Summary"}),"\n",(0,s.jsx)(n.p,{children:"In this chapter, you learned:"}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"URDF fundamentals"}),": XML-based format for robot description",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Link elements"}),": Visual, collision, and inertial properties",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Joint elements"}),": Types (revolute, continuous, prismatic, fixed) and properties",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Geometry"}),": Primitive shapes vs. mesh files",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Humanoid modeling"}),": Kinematic chains, joint hierarchies, forward/inverse kinematics",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Xacro"}),": Properties, macros, math expressions for modular URDF",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Validation"}),": Using ",(0,s.jsx)(n.code,{children:"check_urdf"})," and debugging techniques",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Visualization"}),": RViz2 workflow with ",(0,s.jsx)(n.code,{children:"robot_state_publisher"})," and ",(0,s.jsx)(n.code,{children:"joint_state_publisher_gui"}),(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Standards"}),": REP-103 and REP-105 conventions for frames and naming",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Sensors"}),": Camera, lidar, IMU integration with Gazebo plugins",(0,s.jsx)(n.br,{}),"\n","\u2705 ",(0,s.jsx)(n.strong,{children:"Simulation preview"}),": Gazebo for physics-based robot simulation"]}),"\n",(0,s.jsx)(n.h3,{id:"key-takeaways-1",children:"Key Takeaways"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"URDF is the foundation"})," for robot modeling in ROS 2 (visualization, simulation, control)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Start simple, iterate"}),": Build incrementally and validate frequently"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Xacro is essential"})," for real robots to manage complexity and avoid repetition"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inertial properties matter"}),": Poor inertia values cause simulation instability"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Follow conventions"}),": REP-103/105 ensure interoperability with ROS 2 ecosystem"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Module 1, Chapter 5"}),": Learn launch files and package management to organize URDF files and nodes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Module 2"}),": Deep dive into Gazebo simulation, world building, physics tuning"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hands-on project"}),": Complete the humanoid URDF exercise and prepare for simulation"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://wiki.ros.org/urdf",children:"URDF Official Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://wiki.ros.org/xacro",children:"Xacro Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.ros.org/reps/rep-0103.html",children:"REP-103: Standard Units of Measure"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.ros.org/reps/rep-0105.html",children:"REP-105: Coordinate Frames"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://gazebosim.org/tutorials",children:"Gazebo Tutorials"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Continue to Chapter 5: Launch Files and Package Management \u2192"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);